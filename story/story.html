<!DOCTYPE html>
<html>
    <head>
        <title>Stephen's Story</title>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
        #map {
          height: 100%;
        }

        /* Optional: Makes the sample page fill the window. */
        html,
        body {
          height: 100%;
          margin: 0;
          padding: 0;
        }
    </style>
    <script>
    
    let map;

    function initMap() {
        map = new google.maps.Map(document.getElementById("map"), {
            center: { lat: 44.73400, lng:-78.18150 },
            zoom: 12,
            mapTypeID: "satellite",
        });
        // custom map markers
        const campsite = "https://vandam.nfshost.com/campsiteIcon2.png";
        const portage = "https://vandam.nfshost.com/portageIcon.png";

        const campsiteMarker = new google.maps.Marker({
            position: {lat: 44.722030, lng: -78.194838},
            map,
            icon: campsite,
        })
        const portageMarker = new google.maps.Marker({
            position: {lat: 44.728121, lng: -78.197607},
            map,
            icon: portage,
        })
        // polyline
        const CanoePlanCoordinates = [
            { lat: 44.748249, lng: -78.159711 },
            { lat: 44.748386, lng: -78.160394 },
            { lat: 44.741931, lng: -78.171058 },
            { lat: 44.735047, lng: -78.184584 },
            { lat: 44.734338, lng: -78.189916 },
            { lat: 44.733871, lng: -78.190836 },
            { lat: 44.728721, lng: -78.198032 },
            { lat: 44.727620, lng: -78.197927 },
            { lat: 44.725251, lng: -78.190914 },
            { lat: 44.723795, lng: -78.191230 },
            { lat: 44.722030, lng: -78.194838 },
        ];
        const canoePath = new google.maps.Polyline({
            path: CanoePlanCoordinates,
            geodesic: true,
            strokeColor: "#FF0000",
            strokeOpacity: 1.0,
            strokeWeight: 2,
        });
        canoePath.setMap(map);
    }
/*    declare global {
        interface Window {
            initMap: () => void;
        }
        }*/
        window.initMap = initMap;
        //export {};
    </script>
    </head>
    <body>
        <div id="map"></div>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDv3MGflguusDaLmV_-BUlmuoUI4EbM88w&callback=initMap" async>
        </script>
    </body>
</html>